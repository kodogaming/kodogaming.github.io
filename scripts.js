function randSong(){var e=Math.floor(5*Math.random()+1);1==e&&(game.song1.play(),game.song1.volume=.15,keys[81]&&game.song1.pause()),2==e&&(game.song2.play(),game.song2.volume=.2,keys[81]&&song2.pause()),3==e&&(game.song3.play(),game.song3.volume=.1,keys[81]&&game.song3.pause()),4==e&&(game.song4.play(),game.song4.volume=.1,keys[81]&&game.song4.pause()),5==e&&(game.song5.play(),game.song5.volume=.1,keys[81]&&game.song5.pause()),1==game.song1.ended&&game.song2.play(),1==game.song2.ended&&game.song3.play(),1==game.song3.ended&&game.song4.play(),1==game.song4.ended&&game.song5.play(),1==game.song5.ended&&game.song1.play(),console.log("This is song: "+e)}function game(){update(),render()}function update(){function e(){keys[87]&&(player.y-=speed,character=document.getElementById("playerUp"),context.translate(0,speed),player.x<mat_grass.width&player.y<mat_grass.height&&game.walk_grass.play())}function t(){keys[83]&&(player.y+=speed,character=document.getElementById("playerDown"),context.translate(0,-speed),player.x<mat_grass.width&player.y<mat_grass.height&&game.walk_grass.play())}function a(){keys[65]&&(player.x-=speed,character=document.getElementById("playerLeft"),context.translate(speed,0),player.x<mat_grass.width&player.y<mat_grass.height&&game.walk_grass.play())}function n(){keys[68]&&(player.x+=speed,character=document.getElementById("playerRight"),context.translate(-speed,0),player.x<1920&player.y<1e3&&game.walk_grass.play())}if(n(),a(),e(),t(),player.x<0&&(player.x=0),player.y<0&&(player.y=0),player.x>=width-player.width&&(player.x=width-player.width),player.y>=height-player.height&&(player.y=height-player.height),collision(player,cube)&&keys[32]&&process(),player.x>1030&&player.x<1820)var r=!0;if(player.y<494&&player.y>437)var o=!0;if(1==r&&1==o&&keys[87]&&(player.y+=speed,context.translate(0,-speed)),player.x<1048&&player.x>1040)var c=!0;if(player.y>462&&player.y<978)var d=!0;if(1==c&&1==d&&(keys[65]&&(player.x+=speed,context.translate(-speed,0)),keys[68]&&(player.x-=speed,context.translate(speed,0))),player.x>1030&&player.x<1820)var g=!0;if(player.y>970&&player.y<1002)var y=!0;if(1==g&&1==y&&(keys[83]&&(player.y+=-speed,context.translate(0,speed)),keys[87]&&(player.y+=speed,context.translate(0,-speed)),keys[65]&&(player.x+=speed,context.translate(-speed,0))),player.x>1280&&player.x<1535)var l=!0;if(player.y<545&&player.y>494)var s=!0;if(1==l&&1==s&&keys[87]&&(player.y+=speed,context.translate(0,-speed)),player.x<1535&&player.x>1505)var x=!0;if(player.y<545&&player.y>494)var m=!0;if(1==x&&1==m&&keys[65]&&(player.x+=speed,context.translate(-speed,0)),player.x>1319&&player.x<1360)var p=!0;if(player.x>548&&player.y<554)var i=!0;1==p&&1==i&&(keys[32]?isDoor1Button||(isDoor1Button=!0,context.clearRect(0,0,canvas.width,canvas.height)):isDoor1Button=!1),player.y>1920&&context.clearRect(1920,1080,1920,1080),player.y<494&&(player.y+=speed,context.translate(0,-speed)),player.x<1010&&(player.x+=speed,context.translate(-speed,0)),0>=hp&&lose(),speed=keys[16]?10:5}function render(){function e(){for(i=0;i<10;i++)c.x++,console.log(c.x)}function t(){for(i=0;i<1;i+=1){if(character==document.getElementById("playerUp")){var e=player.y-25,t=player.x+10;setInterval(function(){context.drawImage(fireballUp,t,e),e-=p},1e3/fps)}if(character==document.getElementById("playerRight")){var e=player.y+5,t=player.x+45;setInterval(function(){context.drawImage(fireballRight,t,e),t+=p},1e3/fps)}if(character==document.getElementById("playerLeft")){var e=player.y+5,t=player.x-25;setInterval(function(){context.drawImage(fireballLeft,t,e),t-=p},1e3/fps)}if(character==document.getElementById("playerDown")){var e=player.y+25,t=player.x+10;setInterval(function(){context.drawImage(fireballDown,t,e),e+=p},1e3/fps)}}}context.clearRect(0,0,width,height),context.drawImage(grass,0,1080),context.drawImage(grass,0,0),context.drawImage(grass,1920,0),context.drawImage(grass,1920,1080);var a="Health: "+hp;context.globalAlpha=1,context.drawImage(enemy,cube.x,cube.y);var n={};n.x=player.x+45,n.y=player.y,isCampfireBuildingButtonDown=!1,keys[90]?isCampfireBuildingButtonDown||(context.drawImage(campfireimg,n.x,n.y),isCampfireBuildingButtonDown=!0):isCampfireBuildingButtonDown=!1;var r=document.getElementById("quest_icon"),o=document.getElementById("questgiver"),c={giver:o,x:1530,y:734,width:50,height:50};if(context.drawImage(r,c.x+15,c.y-50),context.drawImage(c.giver,c.x,c.y),player.x>1490&&player.x<1575)var d=!0;if(player.y<770&&player.y>674)var g=!0;1==d&&1==g&&keys[32]&&e(),context.drawImage(fence,1065,500),context.drawImage(fence,1175,500),context.drawImage(fence,1285,500),context.drawImage(fence,1395,500),context.drawImage(fence,1505,500),context.drawImage(fence,1615,500),context.drawImage(fence,1725,500),context.drawImage(fence,1835,500),context.drawImage(fence,1945,500),context.drawImage(fence,2055,500),context.drawImage(fence,2165,500),context.drawImage(fence,2275,500),context.drawImage(fence,2385,500),context.drawImage(fence,2495,500),context.drawImage(fence,2605,500),context.drawImage(fence,2715,500),context.drawImage(fence,2825,500),context.drawImage(fence,2935,500),context.drawImage(fence,3045,500),context.drawImage(fence,3155,500),context.drawImage(fence,3265,500),context.drawImage(fence,3375,500),context.drawImage(fence,3485,500),context.drawImage(fence,3595,500),context.drawImage(fence,3705,500),context.drawImage(fence,1065,1040),context.drawImage(fence,1175,1040),context.drawImage(fence,1285,1040),context.drawImage(fence,1395,1040),context.drawImage(fence,1505,1040),context.drawImage(fence,1615,1040),context.drawImage(fence,1725,1040);var y=1069;context.drawImage(fenceVert,y,536),context.drawImage(fenceVert,y,572),context.drawImage(fenceVert,y,608),context.drawImage(fenceVert,y,644),context.drawImage(fenceVert,y,680),context.drawImage(fenceVert,y,716),context.drawImage(fenceVert,y,752),context.drawImage(fenceVert,y,788),context.drawImage(fenceVert,y,824),context.drawImage(fenceVert,y,860),context.drawImage(fenceVert,y,896),context.drawImage(fenceVert,y,932),context.drawImage(fenceVert,y,968),context.drawImage(fenceVert,y,1004),context.drawImage(fenceVert,y,1040),context.drawImage(stone,1340,610),context.drawImage(stone,1350,610),context.drawImage(stone,1382,610),context.drawImage(stone,1340,642),context.drawImage(stone,1350,642),context.drawImage(stone,1382,642),context.drawImage(tree1,500,500),context.drawImage(shrub,1285,610),context.drawImage(shrub,1415,610),context.drawImage(tree3,1100,0),context.drawImage(tree2,700,0),context.drawImage(tree2,0,300),context.drawImage(tree1,300,0),context.drawImage(tree1,1500,0),context.globalAlpha=1,context.drawImage(house,1300,350),context.drawImage(dirt_1,1200,800),context.drawImage(dirt_1,1252,800),context.drawImage(dirt_1,1304,800),context.drawImage(dirt_1,1356,800),context.drawImage(dirt_1,1408,800),context.drawImage(dirt_1,1460,800),context.drawImage(dirt_1,1252,852),context.drawImage(dirt_1,1304,852),context.drawImage(dirt_1,1356,852),context.drawImage(dirt_1,1408,852),context.drawImage(dirt_1,1460,852),context.drawImage(dirt_1,1201,773),context.drawImage(dirt_1,1252,748),context.drawImage(dirt_1,1304,748),context.drawImage(dirt_1,1356,748),context.drawImage(dirt_1,1408,748),context.drawImage(dirt_1,1460,748),context.drawImage(dirt_1,1408,748),context.drawImage(character,player.x,player.y),context.fillText("x:"+player.x,player.x+875,player.y+445),context.fillText("y:"+player.y,player.x+875,player.y+475),context.fillStyle="#333",keys[69]&&context.drawImage(inv,player.x-400,player.y-250),context.globalAlpha=.8,context.drawImage(hud,player.x-1e3,player.y+435),context.globalAlpha=1,context.fillStyle="#000",context.font="24px helvetica",context.fillText(a,player.x-950,player.y+475),context.globalAlpha=1;var l="Score: "+score;context.fillStyle="#000",context.font="24px helvetica",context.fillText(l,player.x-800,player.y+475);var s=0;for(i=0;i<1e3;i++)setInterval(function(){s++},1e3);context.fillText(s,player.x+700,player.y+475);var x=player.x,m=player.y,p=15,w={};w.x=x,w.y=m,w.width=52,w.height=52;var f=!1;keys[70]?isFiringButtonDown||(t(),isFiringButtonDown=!0):isFiringButtonDown=!1,w.x>cube.x-cube.width&&1==f&&process(),console.log(f)}function process(){score++,cube.x=Math.random()*(width-75),cube.y=Math.random()*(height-75)}function collision(e,t){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)}var canvas=document.getElementById("mainCanvas"),context=canvas.getContext("2d"),playercanvas=document.getElementById("playerCanvas"),context=canvas.getContext("2d"),isButtonADown=!1,fps=60,keys=[],width=5e3,height=5e3,speed=5;canvas.height=5e3,canvas.width=5e3;var score=0,hp=100;game.walk_grass=new Audio("sound/walk_grass.mp3"),game.song1=new Audio("sound/ost.mp3"),game.song2=new Audio("sound/song2.mp3"),game.song3=new Audio("sound/song3.mp3"),game.song4=new Audio("sound/song4.mp3"),game.song5=new Audio("sound/song5.mp3"),randSong(),window.onkeydown=function(e){return 32==e.keyCode&&e.target==document.body?(e.preventDefault(),!1):void 0};var player={x:window.innerWidth/2+230,y:window.innerHeight/2+270,width:75,height:75};context.translate(-230,-270);var cube={x:Math.random()*(width-4e3)+1050,y:Math.random()*(height-4e3)+500,width:75,height:75};window.addEventListener("keydown",function(e){keys[e.keyCode]=!0},!1),window.addEventListener("keyup",function(e){delete keys[e.keyCode]},!1);var character=document.getElementById("playerRight"),enemy=document.getElementById("Enemy"),grass=document.getElementById("grass"),mat_grass={width:3840,height:2160},house=document.getElementById("house");window.onbeforeunload=function(){return" WARNING: YOU WILL LOSE ALL PROGRESS! "},setInterval(function(){game()},1e3/fps);